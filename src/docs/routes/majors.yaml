# Major API Endpoints

# GET /majors
/majors:
  get:
    tags:
      - Majors
    summary: Get all majors
    description: Retrieve a list of all academic majors with optional filtering
    parameters:
      - $ref: '#/components/parameters/nameFilterParam'
      - $ref: '#/components/parameters/academicYearParam'
      - $ref: '#/components/parameters/campusIdParam'
      - $ref: '#/components/parameters/campusCodeParam'
      - name: major_code
        in: query
        description: Filter by major code
        schema:
          type: string
    responses:
      200:
        description: Successful operation
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/PaginatedResponse'
                - type: object
                  properties:
                    data:
                      type: object
                      properties:
                        items:
                          type: array
                          items:
                            $ref: '#/components/schemas/Major'
      400:
        $ref: '#/components/responses/BadRequest'
      500:
        $ref: '#/components/responses/InternalServerError'

# GET /majors/{id}
/majors/{id}:
  get:
    tags:
      - Majors
    summary: Get major by ID
    description: Retrieve a specific major by its ID
    parameters:
      - $ref: '#/components/parameters/idPathParam'
      - $ref: '#/components/parameters/academicYearParam'
    responses:
      200:
        description: Successful operation
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/ApiResponse'
                - type: object
                  properties:
                    data:
                      $ref: '#/components/schemas/Major'
      404:
        $ref: '#/components/responses/NotFound'
      500:
        $ref: '#/components/responses/InternalServerError'

# GET /majors/code/{code}
/majors/code/{code}:
  get:
    tags:
      - Majors
    summary: Get major by code
    description: Retrieve a specific major by its code
    parameters:
      - name: code
        in: path
        description: Major code
        required: true
        schema:
          type: string
      - $ref: '#/components/parameters/academicYearParam'
    responses:
      200:
        description: Successful operation
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/ApiResponse'
                - type: object
                  properties:
                    data:
                      $ref: '#/components/schemas/Major'
      404:
        $ref: '#/components/responses/NotFound'
      500:
        $ref: '#/components/responses/InternalServerError'

# GET /majors/{id}/careers
/majors/{id}/careers:
  get:
    tags:
      - Majors
    summary: Get careers for a major
    description: Retrieve career opportunities for a specific major
    parameters:
      - $ref: '#/components/parameters/idPathParam'
    responses:
      200:
        description: Successful operation
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/ApiResponse'
                - type: object
                  properties:
                    data:
                      type: array
                      items:
                        type: object
                        properties:
                          id:
                            type: integer
                          name:
                            type: string
                          description:
                            type: string
                          salary_range:
                            type: string
                          category:
                            type: string
                          info_url:
                            type: string
      404:
        $ref: '#/components/responses/NotFound'
      500:
        $ref: '#/components/responses/InternalServerError'
