# Dormitory API Endpoints

# GET /dormitories
/dormitories:
  get:
    tags:
      - Dormitories
    summary: Get all dormitories
    description: Retrieve a list of all dormitories with optional filtering
    parameters:
      - $ref: '#/components/parameters/nameFilterParam'
      - $ref: '#/components/parameters/campusIdParam'
      - $ref: '#/components/parameters/campusCodeParam'
    responses:
      200:
        description: Successful operation
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/ApiResponse'
                - type: object
                  properties:
                    data:
                      type: array
                      items:
                        $ref: '#/components/schemas/Dormitory'
      400:
        $ref: '#/components/responses/BadRequest'
      500:
        $ref: '#/components/responses/InternalServerError'

# GET /dormitories/{id}
/dormitories/{id}:
  get:
    tags:
      - Dormitories
    summary: Get dormitory by ID
    description: Retrieve a specific dormitory by its ID
    parameters:
      - $ref: '#/components/parameters/idPathParam'
    responses:
      200:
        description: Successful operation
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/ApiResponse'
                - type: object
                  properties:
                    data:
                      $ref: '#/components/schemas/Dormitory'
      404:
        $ref: '#/components/responses/NotFound'
      500:
        $ref: '#/components/responses/InternalServerError'

# GET /dormitories/{id}/availability
/dormitories/{id}/availability:
  get:
    tags:
      - Dormitories
    summary: Get dormitory availability
    description: Retrieve availability information for a specific dormitory
    parameters:
      - $ref: '#/components/parameters/idPathParam'
    responses:
      200:
        description: Successful operation
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/ApiResponse'
                - type: object
                  properties:
                    data:
                      type: object
                      properties:
                        total_capacity:
                          type: integer
                        available_spots:
                          type: integer
                        occupancy_rate:
                          type: number
                          format: float
      404:
        $ref: '#/components/responses/NotFound'
      500:
        $ref: '#/components/responses/InternalServerError'

# GET /dormitories/{id}/facilities
/dormitories/{id}/facilities:
  get:
    tags:
      - Dormitories
    summary: Get dormitory facilities
    description: Retrieve facilities available at a specific dormitory
    parameters:
      - $ref: '#/components/parameters/idPathParam'
    responses:
      200:
        description: Successful operation
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/ApiResponse'
                - type: object
                  properties:
                    data:
                      type: array
                      items:
                        type: object
                        properties:
                          name:
                            type: string
                          description:
                            type: string
      404:
        $ref: '#/components/responses/NotFound'
      500:
        $ref: '#/components/responses/InternalServerError'
