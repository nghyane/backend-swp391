# Session API Endpoints

# GET /sessions
/sessions:
  get:
    tags:
      - Sessions
    summary: Get all sessions
    description: Retrieve a list of all chatbot sessions
    parameters: []
    responses:
      200:
        description: Successful operation
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/ApiResponse'
                - type: object
                  properties:
                    data:
                      type: array
                      items:
                        type: object
                        properties:
                          session_id:
                            type: string
                          platform:
                            type: string
                          user_id:
                            type: string
                          hubspot_contact_id:
                            type: string
                          anonymous:
                            type: boolean
      500:
        $ref: '#/components/responses/InternalServerError'

# GET /sessions/user/{userId}
/sessions/user/{userId}:
  get:
    tags:
      - Sessions
    summary: Get session by user ID
    description: Retrieve a session by user ID
    parameters:
      - name: userId
        in: path
        description: User ID
        required: true
        schema:
          type: string
      - name: platform
        in: query
        description: Platform name (e.g., zalo)
        schema:
          type: string
    responses:
      200:
        description: Successful operation
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/ApiResponse'
                - type: object
                  properties:
                    data:
                      type: object
                      properties:
                        session_id:
                          type: string
                        platform:
                          type: string
                        user_id:
                          type: string
                        hubspot_contact_id:
                          type: string
                        anonymous:
                          type: boolean
      404:
        $ref: '#/components/responses/NotFound'
      500:
        $ref: '#/components/responses/InternalServerError'
